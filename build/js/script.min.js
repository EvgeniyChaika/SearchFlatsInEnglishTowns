/**
 * Created by evgeniy on 23.12.15.
 */
//@ngInject
function myCtrl2(e,r,o,t){e.onSubmit=function(){console.log("SearchFormController"),e.loader=!0,o.getData(e.city).success(function(e){t.data={array:e.response.listings,pages:e.response.total_pages},r.path("/result")}).error(function(){e.errorMessage="There was a problem with your search"})["finally"](function(){e.loader=!1})}}
//@ngInject
function myCtrl1(e,r,o){e.items=o.data.array,e.totalPages=o.data.pages,console.log("SearchResultsController"),e.goBack=function(){console.log("go Back -> search"),r.path("/search")},e.viewPage=function(e){console.log("go Third Page -> property"),o.view=e,r.path("/property")}}
//@ngInject
function myCtrl3(e,r,o){console.log(o),console.log(o.view.price),e.view=o.view,e.goBackResults=function(){console.log("go Back -> results"),r.path("/result")}}myCtrl2.$inject=["$scope","$location","networkService","dataService"],myCtrl1.$inject=["$scope","$location","dataService"],myCtrl3.$inject=["$scope","$location","dataService"];var searchApp=angular.module("searchApp",["ngRoute","ngMessages"]);console.log("app.js"),searchApp.config(["$routeProvider",function(e){e.when("/search",{templateUrl:"app/search_form/search_form.template.html",controller:"searchFormController"}).when("/result",{templateUrl:"app/search_results/search_results.template.html",controller:"searchResultsController"}).when("/property",{templateUrl:"app/property_listing/property_listing.template.html",controller:"propertyListingController"}).otherwise({redirectTo:"/search"})}]),angular.module("searchApp").controller("searchFormController",myCtrl2),angular.module("searchApp").controller("searchResultsController",myCtrl1),/**
 * Created by evgeniy on 23.12.15.
 */
angular.module("searchApp").controller("propertyListingController",myCtrl3),angular.module("searchApp").service("dataService",function(){this.data=null}),angular.module("searchApp").service("networkService",["$http",function(e){this.getData=function(r){return console.log("HTTP"),console.log(r),e({method:"GET",url:"http://api.nestoria.co.uk/api?country=uk&pretty=1&action=search_listings&encoding=json&listing_type=buy&page=1&place_name="+r})}}]);